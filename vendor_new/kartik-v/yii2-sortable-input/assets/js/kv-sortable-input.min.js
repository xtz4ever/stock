/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014
 * @version 1.1.0
 *
 * JQuery Plugin for yii2-sortable-input.
 * 
 * Author: Kartik Visweswaran
 * Copyright: 2014, Kartik Visweswaran, Krajee.com
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */!function(t){var e=function(e,n){this.$element=t(e),this.options=n,this.init(n),this.listen()};e.prototype={constructor:e,init:function(e){var n=this;n.$sortableEl=t("#"+e.sortableId),n.delimiter=e.delimiter,n.$form=n.$element.closest("form"),n.initialValue=n.getKeys(),n.initialContent=n.$sortableEl.html(),n.$element.val(n.initialValue)},listen:function(){var t=this;t.$sortableEl.on("sortupdate",function(){t.$element.val(t.getKeys()),t.$element.trigger("change")}),t.$form.on("reset",function(){setTimeout(function(){t.$sortableEl.html(t.initialContent),t.$sortableEl.sortable(t.options),t.$element.val(t.initialValue)},300)})},getKeys:function(){var e=this;return e.$sortableEl.find("li").map(function(e,n){return t(n).data("key")}).get().join(e.delimiter)}},t.fn.sortableInput=function(n){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var l=t(this),a=l.data("sortableInput"),o="object"==typeof n&&n;a||l.data("sortableInput",a=new e(this,t.extend({},t.fn.sortableInput.defaults,o,t(this).data()))),"string"==typeof n&&a[n].apply(a,i)})},t.fn.sortableInput.defaults={sortableId:"",delimiter:","}}(jQuery);